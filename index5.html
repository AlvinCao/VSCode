<html>

<head>
    <title>网络应用</title>
    <style>

    </style>

</head>

<body>

    <div id="app">
        <input type="button" value="get请求" class="get">
        <input type="button" value="post请求" class="post">

        <input type="button" name="" id="" value="获取笑话" @click="getJoke">
        <p>{{joke}}</p>
    </div>


    <!-- 开发环境版本，包含了有帮助的命令行警告 -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script>
        var app = new Vue({
            el: "#app",
            data: {
                joke: "笑话"

            }, methods: {

                getJoke: function () {

                    var that = this;//保存this
                    axios.get("https://autumnfish.cn/api/joke").then(function (reponse) {
                        console.log(reponse);
                        that.joke = reponse.data;

                    }, function (error) {
                        console.log(error);

                    })

                }

            }


        })


        document.querySelector(".get").onclick = function () {
            axios.get("https://autumnfish.cn/api/joke/list?num=6").then(function (reponse) {
                console.log(reponse);

            }, function (error) {
                console.log(error);

            })

        };

        document.querySelector(".post").onclick = function () {
            axios.post("https://autumnfish.cn/api/user/reg", { username: "jack" }).then(function (reponse) {
                console.log(reponse);

            }, function (error) {
                console.log(error);

            })

        };

    </script>
</body>

</html>